let workTime,breakTime,minutes,seconds,timerInterval,state="break",myTask="";const task=document.querySelector(".task"),main=document.querySelector(".main"),input=document.querySelector(".input__task"),pomodoros=document.querySelectorAll(".pomodoro"),playButton=document.querySelector(".btn__play"),stopButton=document.querySelector(".btn__stop"),newButton=document.querySelector(".btn__new"),minutesTimer=document.querySelector(".timer__minutes"),secondsTimer=document.querySelector(".timer__seconds"),wrapper=document.querySelector(".wrapper");function startTimer(){state="work",showStop(),minutes=workTime,seconds=0,updateTimerDisplay(),timerInterval=setInterval((function(){minutes>0&&0===seconds?(minutes-=1,seconds=59):seconds-=1,updateTimerDisplay(),0===minutes&&0===seconds&&"work"===state&&(task.innerText="Отдых! Встань из-за стола",state="break",designBreak(),playSound(),minutes=breakTime,seconds=0),0===minutes&&0===seconds&&"break"===state&&stopTimer()}),1e3)}function stopTimer(){task.innerText=myTask,state="break",designWork(),showPlay(),playSound(),clearInterval(timerInterval),minutes=workTime,seconds=0,updateTimerDisplay()}pomodoros.forEach((e=>{e.addEventListener("click",(e=>{myTask=input.value.trim(),task.innerText=myTask;const t=e.target;[minutes,seconds]=t.innerText.split("/"),workTime=+minutes,breakTime=+seconds,pomodoros.forEach((e=>{e.classList.add("fade-out"),input.classList.add("fade-out"),setTimeout((()=>{e.style.display="none",input.style.display="none",main.style.display="flex",main.classList.add("fade-in")}),450)})),playSound(),startTimer()}))}));const playSound=()=>{const e=new Audio;e.src="../assets/timer.mp3",e.play()};function updateTimerDisplay(){minutesTimer.innerHTML=String(minutes).padStart(2,"0"),secondsTimer.innerHTML=String(seconds).padStart(2,"0"),document.title=`${state.toUpperCase()} | ${String(minutes).padStart(2,"0")} : ${String(seconds).padStart(2,"0")}`}function showPlay(){playButton.style.display="block",stopButton.style.display="none",playButton.classList.add("fade-in"),newButton.style.display="block",newButton.classList.add("fade-in")}function showStop(){playButton.style.display="none",newButton.style.display="none",stopButton.style.display="block",stopButton.classList.add("fade-in")}function designBreak(){wrapper.style.backgroundColor="#44af42",wrapper.style.color="#ffffff"}function designWork(){wrapper.style.backgroundColor="#ffffff",wrapper.style.color="#000000"}function reset(){location.reload()}playButton.addEventListener("click",startTimer),stopButton.addEventListener("click",stopTimer),newButton.addEventListener("click",reset);